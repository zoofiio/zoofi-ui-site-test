(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{79391:function(){},20498:function(e,t,n){Promise.resolve().then(n.bind(n,17465))},17465:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var o=n(31113),a=n(93680),r=n(26537),s=n(30639),l=n(4283),u=n(95702),c=n(44939),i=n(19757),d=n(59175),f=n(5035),p=n(47518),v=n(26361),m=n(69708),x=n(64103),b=n(17695),h=x.useState,esm_useHover=function(e){var t,n,o=h(!1),a=o[0],r=o[1];return"function"==typeof e&&(e=e(a)),[x.cloneElement(e,{onMouseEnter:(t=e.props.onMouseEnter,function(e){(t||b.ZT)(e),r(!0)}),onMouseLeave:(n=e.props.onMouseLeave,function(e){(n||b.ZT)(e),r(!1)})}),a]},S=n(59781),k=n(60689);let y=[{icon:a.Z,tit:"Interest Bear",sub:"Stablecoin",hoverTextColor:"#ff8080"},{icon:r.Z,tit:"Leverage Bull",sub:"Margin Token",hoverTextColor:"#53baff"},{icon:s.Z,tit:"Principal Panda",sub:"Principal Token",hoverTextColor:"#0ed19a"},{icon:l.Z,tit:"Boost Bribe Venom",sub:"Yield Token",hoverTextColor:"#ebc013"}];function CardItem(e){let[t]=esm_useHover(t=>(0,o.jsxs)("div",{className:(0,v.cn)("card flex items-center gap-5 py-4",e.className),children:[(0,o.jsx)(e.icon,{showBg:t,showOutline:!0,className:(0,v.cn)("text-[3.375rem] ",t?"text-white":"text-black dark:text-white")}),(0,o.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,o.jsx)("span",{style:{color:t?e.hoverTextColor:""},className:(0,v.cn)("font-semibold text-xl","text-black dark:text-white"),children:e.tit}),(0,o.jsx)("span",{className:"font-medium text-xs opacity-50 dark:text-white",children:e.sub})]})]},e.tit));return t}function Home(){let e=(0,d.p)(),{tvl:t}=(0,f.w)();(0,f.R)(),(0,p.m)();let n=i.iK[e];n.find(e=>"USDB"==e.assetTokenSymbol);let a=(0,m.useRouter)();return(0,o.jsx)(c.E,{children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row max-w-[1160px] mx-auto px-4 gap-10 md:gap-20 h-[calc(100vh-100px)] pt-[5vh] md:pt-[10vh] pb-8 md:justify-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex md:mt-10 text-[5vw] md:text-[min(2.5rem,2.7vw)] !leading-normal font-semibold text-slate-700 dark:text-slate-50",children:["A Structured Protocol for Better ",(0,o.jsx)("br",{}),"Liquidity Utilization."]}),(0,o.jsxs)("div",{className:"flex gap-5 mt-8 justify-start flex-wrap",children:[(0,o.jsx)(k.k,{className:"text-sm !w-[150px] !mx-0  mt-0",onClick:()=>(0,S.k)(a),children:"Launch Dapp"}),(0,o.jsxs)(k.k,{hiddenBorder:!0,className:"text-sm h-10 !w-[193px] flex justify-center items-center gap-2",onClick:()=>open("https://www.berachain.com","_blank"),children:[(0,o.jsx)(u.c,{size:24,symbol:"berachain"}),"Built on Berachain"]})]})]}),(0,o.jsx)("div",{className:"flex flex-col gap-6",children:y.map(e=>(0,o.jsx)(CardItem,{...e},e.tit))})]})})}},36762:function(e,t,n){"use strict";n.d(t,{$:function(){return Spinner}});var o=n(31113),a=n(26361);let Spinner=e=>{let{className:t}=e;return(0,o.jsxs)("svg",{fill:"none",className:(0,a.cn)("animate-spin h-5 w-5 2-ml-1 2mr-3",t),viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},60689:function(e,t,n){"use strict";n.d(t,{k:function(){return BBtn}});var o=n(31113),a=n(26361),r=n(83978),s=n.n(r),l=n(64103),u=n(36762);function BBtn(e){let{borderWidth:t=1,children:n,busy:r,busyShowContent:c=!0,className:i,hiddenBorder:d,...f}=e,p=(0,l.useRef)(null),[v,m]=(0,l.useState)("0_0"),x="unset",b="unset";if(p.current&&!d){let e=p.current,n=e.clientWidth,o=e.clientHeight,a=parseInt(getComputedStyle(e).borderRadius.replace("px","")),r="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(a," ").concat(t,"L").concat(n-a," ").concat(t),l="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(n-t," ").concat(a,"L").concat(n-t," ").concat(o-a),u="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(n-a," ").concat(o-t,"L").concat(a," ").concat(o-t," "),c="A".concat(a-t," ").concat(a-t," 0, 0, 1, ").concat(t," ").concat(o-a,"L").concat(t," ").concat(a),i="M ".concat(t," ").concat(a," ").concat(r," ").concat(l," ").concat(u," ").concat(c),d="M 0 0 L 0 ".concat(o," L ").concat(n," ").concat(o," L ").concat(n," 0 L 0 0 ").concat(i," Z");x="path('".concat(d,"')");let f=2*n,tranP=e=>s().round(e/2,2);b="radial-gradient(122.5% ".concat(s().round(122.5/(n/o),2),"% at ").concat(s().round((52.9*n+50*f-50*n)/f,2),"% ").concat(s().round((16.25*o+50*f-50*o)/f,2),"%, #15d264 0%, #2cbd35 ").concat(tranP(36.26),"%, #dcf45d ").concat(tranP(92.54),"%)")}return(0,l.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t;m("".concat((null===(e=p.current)||void 0===e?void 0:e.clientWidth)||0,"_").concat((null===(t=p.current)||void 0===t?void 0:t.clientWidth)||0))});return p.current&&e.observe(p.current),()=>{p.current&&e.unobserve(p.current)}},[p.current]),(0,o.jsxs)("button",{...f,ref:p,style:{background:"radial-gradient(76.25% 76.25% at 50.3% 23.75%,rgba(27, 205, 89, 0.2) 0%,rgba(179, 232, 84, 0.2) 100%)"},className:(0,a.cn)("group/bbtn relative px-3 cursor-pointer w-full transition-all leading-[2.375] ring-0 text-base text-black dark:text-white font-medium h-10 rounded-lg disabled:opacity-60 disabled:cursor-not-allowed",i),children:[!d&&(0,o.jsx)("div",{className:"absolute w-full h-full left-0 top-0 flex justify-center items-center rounded-lg overflow-hidden",style:{visibility:p.current?"visible":"hidden",clipPath:x},children:(0,o.jsx)("div",{className:(0,a.cn)("w-[200%] aspect-square shrink-0",{"group-hover/bbtn:animate-spin-slow":!e.disabled}),style:{background:b}})}),r&&(0,o.jsx)(u.$,{}),(c||!r)&&n]})}},88439:function(e,t,n){"use strict";n.d(t,{b:function(){return useMemoOfChainId}});var o=n(64103),a=n(59175);function useMemoOfChainId(e){let t=(0,a.p)(),n=(0,o.useRef)({});return(0,o.useMemo)(()=>(n.current[t]||(n.current[t]=e()),n.current[t]),[t])}},45438:function(e,t,n){"use strict";n.d(t,{i:function(){return i},p:function(){return useUpdatePtypoolApy}});var o=n(19757),a=n(22139),r=n(3106),s=n(64103),l=n(33737),u=n(93108),c=n(59175);let i=(0,u.Ue)(e=>({update:e}));function useUpdatePtypoolApy(e){let t=(0,c.p)(),n=o.iK[t],u=(0,r.o)(e=>e.sliceLVaultsStore.lvaults,["sliceLVaultsStore.lvaults"]);(0,s.useEffect)(()=>{console.info("updatePtypoolApy"),n.forEach(n=>{let r=u[n.vault];if(n.ptyPoolAboveAddress&&r&&r.sellPoolTotalStaking&&i.getState().update({[n.ptyPoolAboveAddress]:{staking:(0,l.v)("0.025",10),matching:0n}}),n.ptyPoolBelowAddress&&r&&r.buyPoolTotalStaking&&!r.isStable){let s=r&&r.sellPoolTotalStaking*e[o.O1[t]],l=s>0n&&r.settingsDecimals>0n?r.M_ETHx*r.Y*e[n.xTokenAddress]*a.Pq/2n/s/r.settingsDecimals**10n:0n;i.getState().update({[n.ptyPoolBelowAddress]:{staking:l*10n**10n/a.Pq,matching:0n}})}})},[n,u,e,t])}},5035:function(e,t,n){"use strict";n.d(t,{R:function(){return useTVLV1},w:function(){return useTVL}});var o=n(19757),a=n(59175),r=n(64103),s=n(52671),l=n(22139),u=n(15506),c=n(70258),i=n(26361),d=n(3106),f=n(83978),p=n.n(f),v=n(87031),m=n(90168);function useTVLV1(){var e,t;let n=(0,a.p)(),d=null===(e=o.Lh[n])||void 0===e?void 0:e[0],f=null===(t=o.Lh[n])||void 0===t?void 0:t[1],{prices:p}=(0,r.useContext)(s.g),{data:v}=(0,u.uX)({contracts:[{abi:c.Wn,address:o.O6[n],functionName:"getVaultState",args:[null==d?void 0:d.vault]},{abi:c.Wn,address:o.O6[n],functionName:"getStableVaultState",args:[null==f?void 0:f.vault]},{abi:c.aT,address:null==d?void 0:d.ptyPoolAboveAddress,functionName:"totalStakingBalance"}]}),m=(0,i.ok)(v,[0,"result","M_ETH"]),x=(0,i.ok)(v,[1,"result","M_USDC"]),b=(0,i.ok)(v,[2,"result"]);return(m+b)*p[o.K8]/l.Pq+x*p[null==f?void 0:f.assetTokenAddress]/l.Pq}function useTVL(){let e=(0,a.p)(),t=o.iK[e],n=v.Fw[e].filter(e=>(e.onEnv||[]).includes(l.Vi)),{prices:u}=(0,r.useContext)(s.g),c=(0,d.o)(e=>e.sliceLVaultsStore.lvaults),i=(0,d.o)(e=>e.sliceTokenStore.totalSupply),f=t.map(e=>{var t;return(null===(t=c[e.vault])||void 0===t?void 0:t.usbTotalSupply)||0n}).reduce((e,t)=>e+t,0n),x=(0,d.o)(e=>e.sliceBVaultsStore.bvaults),b=(0,d.o)(e=>e.sliceTokenStore.prices),h=[{name:o.TW,symbol:o.TW,address:o.O1[e]}].concat(t.map(e=>({name:e.xTokenSymbol+e.version,symbol:e.xTokenSymbol,address:e.xTokenAddress}))).map(e=>{let t=u[e.address],n=e.symbol==o.TW?f:i[e.address]||0n,a=t*n/l.Pq;return{...e,price:t,amount:n,usdAmount:a}}).concat(t.filter(e=>!e.isStable).map(e=>{let t=c[e.vault],n=((null==t?void 0:t.sellPoolTotalStaking)||0n)+((null==t?void 0:t.buyPoolBalance)||0n),o=u[e.assetTokenAddress],a=o*n/l.Pq;return{name:e.assetTokenSymbol+e.version,symbol:e.assetTokenSymbol,address:e.assetTokenAddress,price:o,amount:n,usdAmount:a}})).concat(p().chain(n).mapValues(e=>{let t=m.P[e.asset],n=x[e.vault];t&&n&&n.lpLiq&&n.lpBase&&n.lpQuote&&b[t.base]&&b[t.quote];let o=b[e.asset]||0n,a=(null==n?void 0:n.lpLiq)||0n;return{name:e.assetSymbol,symbol:e.assetSymbol,address:e.asset,price:o,amount:a,usdAmount:o*a/l.Pq}}).values().reduce((e,t)=>{let n=e.find(e=>e.symbol==t.symbol);return n?(n.amount+=t.amount,n.usdAmount+=t.usdAmount,e):[...e,t]},[]).value()),S=h.reduce((e,t)=>e+t.usdAmount,0n);return{tvl:S,tvlItems:h}}},47518:function(e,t,n){"use strict";n.d(t,{m:function(){return useTokenApys}});var o=n(26361),a=n(88439),r=n(45438),s=n(19757),l=n(52671),u=n(3106),c=n(39577),i=n(64103),d=n(33737),f=n(59175);function useTokenApys(){let e=(0,a.b)(()=>(0,o.Yb)({},0n)),t=(0,f.p)(),{prices:n,usbApr:p}=(0,i.useContext)(l.g),v=(0,c.aS)(),m=(0,r.i)(),x=(0,u.o)(e=>e.sliceLVaultsStore.lvaults,["sliceLVaultsStore.lvaults"]);return(0,i.useMemo)(()=>{let n=s.iK[t],a=(0,o.ok)(m[n[0].ptyPoolBelowAddress],"staking");e[s.O1[t]]=p.apr,e.USB_END=p.apr+a;let r=(0,d.v)("0.1",10);return n.forEach(t=>{let n=x[t.vault];if(t.assetTokenAddress!=s.K8&&n){let o=v[t.vault]>1n?(0,d.v)("".concat((v[t.vault]-1).toFixed(2)),10):0n,a=(0,d.v)("1",10);e[t.xTokenAddress]=(o*(r-n.Y*n.aar/a)+r*a)/a}}),null},[t,n,v,p,m]),e}},15506:function(e,t,n){"use strict";n.d(t,{D2:function(){return useWandContractRead},uX:function(){return useWandContractReads}}),n(78403);var o=n(83978),a=n.n(o);n(64103);var r=n(30308),s=n(59307),l=n(93108);let u=(0,l.Ue)(e=>({time:a().now(),update:()=>{e({time:a().now()})}}));function useWandContractRead(e){let{time:t}=u();return(0,r.u)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}function useWandContractReads(e){let{time:t}=u();return(0,s.N)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}},52671:function(e,t,n){"use strict";n.d(t,{g:function(){return S},A:function(){return FetcherProvider}});var o=n(31113),a=n(19757),r=n(22139),s=n(59175),l=n(64103),u=n(25233),c=n(87958),i=n(41340),d=n(73216),f=n(88439),p=n(45438),v=n(26361),m=n(64370),x=n(3106),b=n(18358),h=n(39577);let S=(0,l.createContext)({prices:(0,v.Yb)({},0n),usbApr:{apr:0n,aprDecimals:10}}),FetcherProvider=e=>{let{children:t}=e;(0,b.d6)();let n=(0,s.p)();!function(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.m)({chainId:e});l.useMemo(()=>(t&&(d.ON.provider=function(e){var t,n;let{chain:o,transport:a}=e,r={chainId:o.id,name:o.name,ensAddress:null===(n=o.contracts)||void 0===n?void 0:null===(t=n.ensRegistry)||void 0===t?void 0:t.address};return"fallback"===a.type?new c.H(a.transports.map(e=>{let{value:t}=e;return new i.r(null==t?void 0:t.url,r)})):new i.r(a.url,r)}(t)),d.ON.provider),[t])}();let k=(0,f.b)(()=>(0,v.Yb)({[a.O1[n]]:r.Pq},0n));(0,h.$$)(k);let y=(0,h.UM)();return(0,p.p)(k),(0,m.a)({queryKey:["updateDefTokenList"],staleTime:36e5,queryFn:async()=>(await x.w.getState().sliceTokenStore.updateDefTokenList(),!0)}),(0,o.jsx)(S.Provider,{value:{prices:k,usbApr:y},children:t})}},39577:function(e,t,n){"use strict";n.d(t,{$$:function(){return useSetLVaultPrices},UM:function(){return useUSBApr},aS:function(){return useValutsLeverageRatio},hC:function(){return useLVault},hY:function(){return useUserLVault},pK:function(){return d},so:function(){return useUpLVaultOnUserAction},z6:function(){return useVaultLeverageRatio}});var o=n(19757),a=n(22139),r=n(59175),s=n(88439),l=n(26361),u=n(3106),c=n(96670),i=n(73216);let d=(0,l.Yb)({vaultMode:0,discountEnable:!1},0n),f=(0,l.Yb)({},0n);function useLVault(e){return(0,u.o)(t=>t.sliceLVaultsStore.lvaults[e]||d,["sliceLVaultsStore.lvaults.".concat(e)])}function useUserLVault(e){return(0,u.o)(t=>t.sliceLVaultsStore.user[e]||f,["sliceLVaultsStore.user.".concat(e)])}function useVaultLeverageRatio(e){let t=useLVault(e.vault),n=(0,l.pF)(t.aar,t.AARDecimals);return Math.max(0,1+1/(n-1))}function useValutsLeverageRatio(){let e=(0,r.p)(),t=o.iK[e],n=(0,s.b)(()=>(0,l.Yb)({},0)),a=(0,u.o)(e=>e.sliceLVaultsStore.lvaults);return t.forEach(e=>{let t=a[e.vault],o=t?(0,l.pF)(t.aar,t.AARDecimals):0;n[e.vault]=Math.max(0,1+1/(o-1))}),n}function useSetLVaultPrices(e){let t=(0,u.o)(e=>e.sliceLVaultsStore.lvaults),n=(0,u.o)(e=>e.sliceTokenStore.totalSupply),s=(0,r.p)();o.iK[s].forEach(r=>{let l=t[r.vault]||d,u=l.assetBalance,c=l.latestPrice,i=l.usbTotalSupply,f=n[r.xTokenAddress]||0n,p=f>0n&&u>0n&&c>0n&&i>0n&&u*c>i*a.Pq?(u*c-i*a.Pq)/f:0n;e[r.xTokenAddress]=p,e[r.assetTokenAddress]=c,f>0n&&u>0n&&c>0n&&i>0n&&u*c<i*a.Pq&&(e[o.O1[s]]=u*c/i)})}function useUSBApr(){let e=(0,r.p)(),t=(0,u.o)(e=>e.sliceLVaultsStore.lvaults),n=0,a=0n,s=0n;return o.iK[e].forEach(e=>{let o=t[e.vault]||d;o.isStable?(a+=o.M_USB_USDC*o.Y*o.aar/10n**o.AARDecimals,s+=o.M_USB_USDC,o.M_USB_USDC>0n&&o.Y>0n&&n++):(a+=o.M_USB_ETH*o.Y,s+=o.M_USB_ETH,o.M_USB_ETH>0n&&o.Y>0n&&n++)}),{apr:s>0n?a/s:0n,aprDecimals:10}}function useUpLVaultOnUserAction(e){let{address:t}=(0,c.m)();return()=>{(0,l.XD)(async()=>{if(!t)return;let n=u.w.getState().sliceLVaultsStore,a=[e.assetTokenAddress,e.xTokenAddress,o.O1[(0,i.BV)()]];await Promise.all([n.updateLVaults([e]),n.updateUserLVault(e,t),u.w.getState().sliceTokenStore.updateTokensBalance(a,t),u.w.getState().sliceTokenStore.updateTokenTotalSupply(a)])},3,1e3).catch(console.error)}}},17695:function(e,t,n){"use strict";n.d(t,{S1:function(){return off},ZT:function(){return noop},jU:function(){return o},on:function(){return on}});var noop=function(){};function on(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function off(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var o="undefined"!=typeof window}},function(e){e.O(0,[4881,7495,7622,9590,4167,7625,1037,5974,8488,7093,604,1744],function(){return e(e.s=20498)}),_N_E=e.O()}]);