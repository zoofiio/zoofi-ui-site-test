(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{79391:function(){},35669:function(e,t,s){Promise.resolve().then(s.bind(s,76762))},76762:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Dashboard}});var a=s(31113),n=s(95702),l=s(44939),r=s(75496),o=s(87031),u=s(19757),i=s(90168),c=s(22139),d=s(59175),p=s(31889),m=s(5035),v=s(26361),f=s(52671),h=s(3106),x=s(18358),y=s(84944);s(87763);var S=s(64103);let g=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("circle",{cx:"7",cy:"7",r:"5",fill:"white",stroke:"#00DE9C",strokeWidth:"4"})}),b=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("circle",{cx:"7",cy:"7",r:"5",fill:"white",stroke:"#FF3D3D",strokeWidth:"4"})});function DashItem(e){let{title:t,sub:s,tHeader:n,tData:l}=e;return(0,a.jsxs)("div",{className:"card whitespace-nowrap",children:["string"==typeof t?(0,a.jsx)("div",{className:"text-2xl leading-none font-semibold",children:t}):t,"string"==typeof s?(0,a.jsx)("div",{className:"text-[2rem] text-primary leading-none font-semibold mt-2",children:s}):s,(0,a.jsx)("div",{className:"my-4 h-[1px] bg-border/60 dark:bg-border"}),(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsx)(r.ZP,{headerClassName:"border-b-0",header:n,data:l})})]})}function TVLItem(){let e=(0,m.w)(),t=(0,S.useMemo)(()=>e.tvlItems.map(e=>[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:e.symbol,size:20}),(0,a.jsx)("span",{children:e.symbol})]},"icon"),"$".concat((0,y.d)(e.price)),(0,y.d)(e.amount),"$".concat((0,y.d)(e.usdAmount))]),[e.tvlItems]);return(0,a.jsx)(DashItem,{title:"Total Value Locked",sub:"$".concat((0,y.d)(e.tvl)),tHeader:["Asset","NAV","Amount","Total"],tData:t})}function LVaultsItem(){let e=(0,h.R)(e=>e.sliceLVaultsStore.lvaults),t=(0,d.p)(),s=u.iK[t],{prices:l}=(0,S.useContext)(f.g),r=(0,S.useMemo)(()=>s.map(t=>{var s,r,o,i,d;return[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:t.assetTokenSymbol,size:20}),(0,a.jsx)("span",{children:t.assetTokenSymbol})]},"icon"),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:t.assetTokenSymbol,size:14}),(0,a.jsx)("span",{children:(0,y.d)((null===(s=e[t.vault])||void 0===s?void 0:s.assetBalance)||0n)})]},"icon"),(0,a.jsxs)("div",{className:"opacity-60",children:["~",(0,y.d)((0,v.ok)(e[t.vault],"assetBalance")*l[t.assetTokenAddress]/c.Pq)]})]},"total"),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:u.TW,size:14}),(0,a.jsx)("span",{children:(0,y.d)((0,v.ok)(e[t.vault],"usbTotalSupply"))})]},"debt"),(0,v.Rr)((0,v.ok)(e[t.vault],"aar"),10n),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[1>=((null===(r=e[t.vault])||void 0===r?void 0:r.vaultMode)||0)?g:b,(0,a.jsx)("span",{children:1>=((null===(o=e[t.vault])||void 0===o?void 0:o.vaultMode)||0)?"Stability":"Adjustment"})]},"status"),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(null===(i=e[t.vault])||void 0===i?void 0:i.discountEnable)?b:g,(0,a.jsx)("span",{children:(null===(d=e[t.vault])||void 0===d?void 0:d.discountEnable)?"YES":"NO"})]},"discount")]}),[e,s,l]);return(0,a.jsx)(DashItem,{title:"L-Vault",tHeader:["Vaults","Total Deposit","".concat(u.TW," Debt"),"AAR","Status","Discount Offer"],tData:r})}function BVaultsItem(){let e=(0,d.p)(),t=(0,S.useMemo)(()=>o.Fw[e].filter(e=>(e.onEnv||[]).includes(c.Vi)),[e]),s=(0,h.R)(e=>e.sliceBVaultsStore.bvaults),l=(0,h.R)(e=>e.sliceTokenStore.prices),r=(0,S.useMemo)(()=>{let e=t.map(e=>{let t=(0,v.ok)(s,[e.vault,"lockedAssetTotal"]),a=t*(0,v.ok)(l,[e.asset])/c.Pq,n=i.P[e.asset],[r,o]=n?e.assetSymbol.split("-"):["",""],u=Math.max(22+5*(0,y.d)(t).length,5*(0,y.d)(a).length+5);return{bvc:e,totalDeposit:t,totalDepositUsd:a,totalLeftWidth:u,lp:n,baseSymbol:r,quoteSymbol:o}}),r=e.reduce((e,t)=>Math.max(e,t.totalLeftWidth),0)+20;return e.map(e=>{let{bvc:t,totalDeposit:l,totalDepositUsd:o,lp:u,baseSymbol:i,quoteSymbol:c}=e;return[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:t.assetSymbol,size:20}),(0,a.jsx)("span",{children:t.assetSymbol})]},"icon"),(0,a.jsxs)("div",{className:"flex gap-8 items-start",children:[(0,a.jsxs)("div",{style:{width:r},children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:t.assetSymbol,size:14}),(0,a.jsx)("span",{children:(0,y.d)(l)})]},"icon"),(0,a.jsxs)("div",{className:"opacity-60",children:["~",(0,y.d)(o)]})]}),u&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:i,size:14}),(0,a.jsx)("span",{children:(0,y.d)((0,v.ok)(s,[t.vault,"lpBase"]))})]},"icon"),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(n.c,{symbol:c,size:14}),(0,a.jsx)("span",{children:(0,y.d)((0,v.ok)(s,[t.vault,"lpQuote"]))})]},"icon")]})]},"total"),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[g,(0,a.jsxs)("span",{children:["Epoch ",(0,v.ok)(s,[t.vault,"epochCount"]).toString()]})]},"status"),(0,v.Jh)((0,x.lL)(t.vault),10),"".concat((0,y.d)((0,x.pg)(t.vault),2),"X")]})},[t,s,l]);return(0,a.jsx)(DashItem,{title:"B-Vault",tHeader:["Vaults","Total Deposit","Status","PT APY","YT Boost"],tData:r})}function Dashboard(){return(0,p.a1)(),(0,p.Ev)(),(0,a.jsx)(l.E,{children:(0,a.jsxs)("div",{className:"w-full max-w-[1200px] px-4 mx-auto flex flex-col gap-5 md:pb-8",children:[(0,a.jsx)(TVLItem,{}),(0,a.jsx)(LVaultsItem,{}),(0,a.jsx)(BVaultsItem,{})]})})}},44939:function(e,t,s){"use strict";s.d(t,{E:function(){return PageWrap}});var a=s(31113);s(64103);var n=s(26361),l=s(69708),r=s(12045);function PageWrap(e){let{children:t,className:s}=e,o=(0,r.l)(e=>e.theme),u=(0,l.usePathname)();return(0,a.jsx)("div",{className:(0,n.cn)("min-h-[calc(100vh+1px)] h-auto pt-[90px] pb-6",s),style:{backgroundSize:"contain",background:"light"==o?"#eeeeee":"/"==u?"url(bg_home.svg) center bottom no-repeat,linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)":"linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)"},children:t})}},75496:function(e,t,s){"use strict";var a=s(31113),n=s(26361);function DefEmpty(){return(0,a.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,a.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}s(64103),t.ZP=e=>{let{header:t,data:s,span:l={},empty:r=(0,a.jsx)(DefEmpty,{}),className:o="relative min-w-full bg-transparent ",headerClassName:u,headerItemClassName:i,tbodyClassName:c="",rowClassName:d,rowStyle:p,cellClassName:m,onClickRow:v,onRowMouseHover:f}=e;return(0,a.jsxs)("table",{className:(0,n.cn)("relative min-w-full bg-transparent ",o),children:[(0,a.jsx)("thead",{className:"",children:(0,a.jsx)("tr",{className:(0,n.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",u),children:t.map((e,t)=>(0,a.jsx)("th",{colSpan:l[t],scope:"col",className:(0,n.cn)(0==l[t]?"p-0 w-0":"p-3 font-normal text-sm",i),children:e},t))})}),(0,a.jsxs)("tbody",{className:(0,n.cn)(c),children:[s.map((e,s)=>(0,a.jsx)("tr",{onClick:()=>v&&v(s),onMouseEnter:()=>f&&f(s),onMouseLeave:()=>f&&f(-1),style:"function"==typeof p?p(s):p,className:(0,n.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",v?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof d?d(s):d),children:e.map((e,r)=>r>=t.length?(0,a.jsx)(a.Fragment,{children:e}):(0,a.jsx)("td",{colSpan:l[r],className:(0,n.cn)(0==l[r]?"p-0 w-max":"px-3 py-2 text-sm w-max","function"==typeof m?m(s,r):m),children:e},r))},s)),0===s.length&&r]})]})}},31889:function(e,t,s){"use strict";s.d(t,{Ev:function(){return useLoadBVaults},a1:function(){return useLoadLVaults},g2:function(){return useLoadUserBVaults},z2:function(){return useLoadUserLVaults}});var a=s(19757),n=s(64103),l=s(96670),r=s(59175),o=s(3106),u=s(64370),i=s(83978),c=s.n(i),d=s(87031),p=s(22139);function useLoadLVaults(){let e=(0,r.p)(),t=a.iK[e],{address:s}=(0,l.m)(),i=(0,n.useMemo)(()=>c().chain(a.iK[e]).map(e=>[e.assetTokenAddress,e.xTokenAddress]).flatten().concat([a.O1[e]]).union().value(),[e]);(0,u.a)({queryKey:["UpdateLvautlsTokens",i],queryFn:async()=>(await o.w.getState().sliceTokenStore.updateTokenTotalSupply(i),!0)}),(0,u.a)({queryKey:["UpdateUserLvautlsTokens",i,s],queryFn:async()=>!!s&&(await o.w.getState().sliceTokenStore.updateTokensBalance(i,s),!0)}),(0,u.a)({queryKey:["UpdateLVautls",t],queryFn:async()=>(await o.w.getState().sliceLVaultsStore.updateLVaults(t),!0)})}function useLoadBVaults(){let e=(0,r.p)(),t=(0,n.useMemo)(()=>d.Fw[e].filter(e=>(e.onEnv||[]).includes(p.Vi)),[e,p.Vi]);(0,u.a)({queryKey:[t],queryFn:async()=>(await o.w.getState().sliceBVaultsStore.updateBvaults(t),await o.w.getState().sliceBVaultsStore.updateYTokenSythetic(t),!0)});let{address:s}=(0,l.m)(),a=(0,n.useMemo)(()=>t.map(e=>[e.asset,e.pToken]).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]),[t]);(0,u.a)({queryKey:["UpdateBvautlsTokens",a],queryFn:async()=>(await o.w.getState().sliceTokenStore.updateTokenTotalSupply(a),await o.w.getState().sliceTokenStore.updateTokenPrices(a),!0),throwOnError:(e,t)=>(console.error(e),!1)}),(0,u.a)({queryKey:["UpdateUserBvautlsTokens",a,s],queryFn:async()=>!!s&&(await o.w.getState().sliceTokenStore.updateTokensBalance(a,s),!0)})}function useLoadUserLVaults(){let{address:e}=(0,l.m)(),t=(0,r.p)(),s=a.iK[t];(0,u.a)({queryKey:["UpdateAllUserLVaults",t,e,s],queryFn:async()=>!!e&&(await Promise.all(s.map(t=>o.w.getState().sliceLVaultsStore.updateUserLVault(t,e))),!0)})}function useLoadUserBVaults(){let{address:e}=(0,l.m)(),t=(0,r.p)(),s=(0,n.useMemo)(()=>d.Fw[t].filter(e=>(e.onEnv||[]).includes(p.Vi)),[t,p.Vi]),a=(0,o.R)(e=>c().keys(e.sliceBVaultsStore.bvaults).toString());(0,u.a)({queryKey:["UpdateAllUserBvaults",s,t,e,a],queryFn:async()=>{if(!e)return!1;let t=o.w.getState().sliceBVaultsStore.bvaults;for(let e of s)if(!t[e.vault])return!1;await Promise.all(s.map(e=>o.w.getState().sliceBVaultsStore.updateEpoches(e)));let getEpochesParams=e=>{let t=o.w.getState().sliceBVaultsStore.bvaults[e.vault],s=[];for(let a=parseInt(t.epochCount.toString());a>0;a--){let t=o.w.getState().sliceBVaultsStore.epoches["".concat(e.vault,"_").concat(a)];s.push(t)}return s};return await Promise.all(s.map(t=>o.w.getState().sliceUserBVaults.updateEpoches(t,e,getEpochesParams(t)))),!0}})}},88439:function(e,t,s){"use strict";s.d(t,{b:function(){return useMemoOfChainId}});var a=s(64103),n=s(59175);function useMemoOfChainId(e){let t=(0,n.p)(),s=(0,a.useRef)({});return(0,a.useMemo)(()=>(s.current[t]||(s.current[t]=e()),s.current[t]),[t])}},45438:function(e,t,s){"use strict";s.d(t,{i:function(){return c},p:function(){return useUpdatePtypoolApy}});var a=s(19757),n=s(22139),l=s(3106),r=s(64103),o=s(33737),u=s(93108),i=s(59175);let c=(0,u.Ue)(e=>({update:e}));function useUpdatePtypoolApy(e){let t=(0,i.p)(),s=a.iK[t],u=(0,l.R)(e=>e.sliceLVaultsStore.lvaults);(0,r.useEffect)(()=>{console.info("updatePtypoolApy"),s.forEach(s=>{let l=u[s.vault];if(s.ptyPoolAboveAddress&&l&&l.sellPoolTotalStaking&&c.getState().update({[s.ptyPoolAboveAddress]:{staking:(0,o.v)("0.025",10),matching:0n}}),s.ptyPoolBelowAddress&&l&&l.buyPoolTotalStaking&&!l.isStable){let r=l&&l.sellPoolTotalStaking*e[a.O1[t]],o=r>0n&&l.settingsDecimals>0n?l.M_ETHx*l.Y*e[s.xTokenAddress]*n.Pq/2n/r/l.settingsDecimals**10n:0n;c.getState().update({[s.ptyPoolBelowAddress]:{staking:o*10n**10n/n.Pq,matching:0n}})}})},[s,u,e,t])}},5035:function(e,t,s){"use strict";s.d(t,{R:function(){return useTVLV1},w:function(){return useTVL}});var a=s(19757),n=s(59175),l=s(64103),r=s(52671),o=s(22139),u=s(15506),i=s(70258),c=s(26361),d=s(3106),p=s(83978),m=s.n(p),v=s(87031),f=s(90168);function useTVLV1(){var e,t;let s=(0,n.p)(),d=null===(e=a.Lh[s])||void 0===e?void 0:e[0],p=null===(t=a.Lh[s])||void 0===t?void 0:t[1],{prices:m}=(0,l.useContext)(r.g),{data:v}=(0,u.uX)({contracts:[{abi:i.Wn,address:a.O6[s],functionName:"getVaultState",args:[null==d?void 0:d.vault]},{abi:i.Wn,address:a.O6[s],functionName:"getStableVaultState",args:[null==p?void 0:p.vault]},{abi:i.aT,address:null==d?void 0:d.ptyPoolAboveAddress,functionName:"totalStakingBalance"}]}),f=(0,c.ok)(v,[0,"result","M_ETH"]),h=(0,c.ok)(v,[1,"result","M_USDC"]),x=(0,c.ok)(v,[2,"result"]);return(f+x)*m[a.K8]/o.Pq+h*m[null==p?void 0:p.assetTokenAddress]/o.Pq}function useTVL(){let e=(0,n.p)(),t=a.iK[e],s=v.Fw[e].filter(e=>(e.onEnv||[]).includes(o.Vi)),{prices:u}=(0,l.useContext)(r.g),i=(0,d.R)(e=>e.sliceLVaultsStore.lvaults),c=(0,d.R)(e=>e.sliceTokenStore.totalSupply),p=t.map(e=>{var t;return(null===(t=i[e.vault])||void 0===t?void 0:t.usbTotalSupply)||0n}).reduce((e,t)=>e+t,0n),h=(0,d.R)(e=>e.sliceBVaultsStore.bvaults),x=(0,d.R)(e=>e.sliceTokenStore.prices),y=[{name:a.TW,symbol:a.TW,address:a.O1[e]}].concat(t.map(e=>({name:e.xTokenSymbol+e.version,symbol:e.xTokenSymbol,address:e.xTokenAddress}))).map(e=>{let t=u[e.address],s=e.symbol==a.TW?p:c[e.address]||0n,n=t*s/o.Pq;return{...e,price:t,amount:s,usdAmount:n}}).concat(t.filter(e=>!e.isStable).map(e=>{let t=i[e.vault],s=((null==t?void 0:t.sellPoolTotalStaking)||0n)+((null==t?void 0:t.buyPoolBalance)||0n),a=u[e.assetTokenAddress],n=a*s/o.Pq;return{name:e.assetTokenSymbol+e.version,symbol:e.assetTokenSymbol,address:e.assetTokenAddress,price:a,amount:s,usdAmount:n}})).concat(m().chain(s).mapValues(e=>{let t=f.P[e.asset],s=h[e.vault];t&&s&&s.lpLiq&&s.lpBase&&s.lpQuote&&x[t.base]&&x[t.quote];let a=x[e.asset]||0n,n=(null==s?void 0:s.lpLiq)||0n;return{name:e.assetSymbol,symbol:e.assetSymbol,address:e.asset,price:a,amount:n,usdAmount:a*n/o.Pq}}).values().reduce((e,t)=>{let s=e.find(e=>e.symbol==t.symbol);return s?(s.amount+=t.amount,s.usdAmount+=t.usdAmount,e):[...e,t]},[]).value()),S=y.reduce((e,t)=>e+t.usdAmount,0n);return{tvl:S,tvlItems:y}}},15506:function(e,t,s){"use strict";s.d(t,{D2:function(){return useWandContractRead},hp:function(){return u},uX:function(){return useWandContractReads}}),s(78403);var a=s(83978),n=s.n(a);s(64103);var l=s(30308),r=s(59307),o=s(93108);let u=(0,o.Ue)(e=>({time:n().now(),update:()=>{e({time:n().now()})}}));function useWandContractRead(e){let{time:t}=u();return(0,l.u)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}function useWandContractReads(e){let{time:t}=u();return(0,r.N)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}},52671:function(e,t,s){"use strict";s.d(t,{g:function(){return x},A:function(){return FetcherProvider}});var a=s(31113),n=s(19757),l=s(22139),r=s(59175),o=s(64103),u=s(25233),i=s(87958),c=s(41340),d=s(73216),p=s(88439),m=s(45438),v=s(26361),f=s(18358),h=s(39577);let x=(0,o.createContext)({prices:(0,v.Yb)({},0n),usbApr:{apr:0n,aprDecimals:10}}),FetcherProvider=e=>{let{children:t}=e;(0,f.d6)();let s=(0,r.p)();!function(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.m)({chainId:e});o.useMemo(()=>(t&&(d.ON.provider=function(e){var t,s;let{chain:a,transport:n}=e,l={chainId:a.id,name:a.name,ensAddress:null===(s=a.contracts)||void 0===s?void 0:null===(t=s.ensRegistry)||void 0===t?void 0:t.address};return"fallback"===n.type?new i.H(n.transports.map(e=>{let{value:t}=e;return new c.r(null==t?void 0:t.url,l)})):new c.r(n.url,l)}(t)),d.ON.provider),[t])}();let y=(0,p.b)(()=>(0,v.Yb)({[n.O1[s]]:l.Pq},0n));(0,h.$$)(y);let S=(0,h.UM)();return(0,m.p)(y),(0,a.jsx)(x.Provider,{value:{prices:y,usbApr:S},children:t})}},39577:function(e,t,s){"use strict";s.d(t,{$$:function(){return useSetLVaultPrices},UM:function(){return useUSBApr},aS:function(){return useValutsLeverageRatio},hC:function(){return useLVault},hY:function(){return useUserLVault},pK:function(){return d},so:function(){return useUpLVaultOnUserAction},z6:function(){return useVaultLeverageRatio}});var a=s(19757),n=s(22139),l=s(59175),r=s(88439),o=s(26361),u=s(3106),i=s(96670),c=s(73216);let d=(0,o.Yb)({vaultMode:0,discountEnable:!1},0n),p=(0,o.Yb)({},0n);function useLVault(e){return(0,u.R)(t=>t.sliceLVaultsStore.lvaults[e]||d)}function useUserLVault(e){return(0,u.R)(t=>t.sliceLVaultsStore.user[e]||p)}function useVaultLeverageRatio(e){let t=useLVault(e.vault),s=(0,o.pF)(t.aar,t.AARDecimals);return Math.max(0,1+1/(s-1))}function useValutsLeverageRatio(){let e=(0,l.p)(),t=a.iK[e],s=(0,r.b)(()=>(0,o.Yb)({},0)),n=(0,u.R)(e=>e.sliceLVaultsStore.lvaults);return t.forEach(e=>{let t=n[e.vault],a=t?(0,o.pF)(t.aar,t.AARDecimals):0;s[e.vault]=Math.max(0,1+1/(a-1))}),s}function useSetLVaultPrices(e){let t=(0,u.R)(e=>e.sliceLVaultsStore.lvaults),s=(0,u.R)(e=>e.sliceTokenStore.totalSupply),r=(0,l.p)();a.iK[r].forEach(l=>{let o=t[l.vault]||d,u=o.assetBalance,i=o.latestPrice,c=o.usbTotalSupply,p=s[l.xTokenAddress]||0n,m=p>0n&&u>0n&&i>0n&&c>0n&&u*i>c*n.Pq?(u*i-c*n.Pq)/p:0n;e[l.xTokenAddress]=m,e[l.assetTokenAddress]=i,p>0n&&u>0n&&i>0n&&c>0n&&u*i<c*n.Pq&&(e[a.O1[r]]=u*i/c)})}function useUSBApr(){let e=(0,l.p)(),t=(0,u.R)(e=>e.sliceLVaultsStore.lvaults),s=0,n=0n,r=0n;return a.iK[e].forEach(e=>{let a=t[e.vault]||d;a.isStable?(n+=a.M_USB_USDC*a.Y*a.aar/10n**a.AARDecimals,r+=a.M_USB_USDC,a.M_USB_USDC>0n&&a.Y>0n&&s++):(n+=a.M_USB_ETH*a.Y,r+=a.M_USB_ETH,a.M_USB_ETH>0n&&a.Y>0n&&s++)}),{apr:r>0n?n/r:0n,aprDecimals:10}}function useUpLVaultOnUserAction(e){let{address:t}=(0,i.m)();return()=>{(0,o.XD)(async()=>{if(!t)return;let s=u.w.getState().sliceLVaultsStore,n=[e.assetTokenAddress,e.xTokenAddress,a.O1[(0,c.BV)()]];await Promise.all([s.updateLVaults([e]),s.updateUserLVault(e,t),u.w.getState().sliceTokenStore.updateTokensBalance(n,t),u.w.getState().sliceTokenStore.updateTokenTotalSupply(n)])},3,1e3).catch(console.error)}}}},function(e){e.O(0,[4881,7495,7622,9955,4167,3204,9554,1037,5974,7093,604,1744],function(){return e(e.s=35669)}),_N_E=e.O()}]);