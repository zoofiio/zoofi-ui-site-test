(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9102],{92537:function(e,t,s){Promise.resolve().then(s.bind(s,25409))},25409:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Vaults}});var a=s(31113),n=s(30639),l=s(4283),c=s(50261),i=s(73216),r=s(22139),d=s(15506),o=s(26361),m=s(7828),x=s(18358),u=s(84944),p=s(42487),h=s.n(p),b=s(69708),v=s(64103),f=s(14993),j=s(85665),g=s(20265),N=s(67541),w=s(96670),y=s(4408),k=s(30308),T=s(99548),S=s(91214),B=s(95702);function DefEmpty(){return(0,a.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,a.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}var simple_table=e=>{let{header:t,data:s,span:n={},empty:l=(0,a.jsx)(DefEmpty,{}),className:c="relative min-w-full bg-transparent ",headerClassName:i,headerItemClassName:r,tbodyClassName:d="",rowClassName:m,rowStyle:x,cellClassName:u,onClickRow:p,onRowMouseHover:h}=e;return(0,a.jsxs)("table",{className:(0,o.cn)("relative min-w-full bg-transparent ",c),children:[(0,a.jsx)("thead",{className:"",children:(0,a.jsx)("tr",{className:(0,o.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",i),children:t.map((e,t)=>(0,a.jsx)("th",{colSpan:n[t],scope:"col",className:(0,o.cn)(0==n[t]?"p-0 w-0":"p-3 font-normal text-sm",r),children:e},t))})}),(0,a.jsxs)("tbody",{className:(0,o.cn)(d),children:[s.map((e,s)=>(0,a.jsx)("tr",{onClick:()=>p&&p(s),onMouseEnter:()=>h&&h(s),onMouseLeave:()=>h&&h(-1),style:"function"==typeof x?x(s):x,className:(0,o.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",p?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof m?m(s):m),children:e.map((e,l)=>l>=t.length?(0,a.jsx)(a.Fragment,{children:e}):(0,a.jsx)("td",{colSpan:n[l],className:(0,o.cn)(0==n[l]?"p-0 w-max":"px-3 py-2 text-sm w-max","function"==typeof u?u(s,l):u),children:e},l))},s)),0===s.length&&l]})]})},C=s(16738);function Switch(e){return(0,a.jsx)("div",{style:{padding:1,border:"1px solid transparent",backgroundRepeat:"no-repeat",backgroundClip:"padding-box,border-box",backgroundOrigin:"padding-box,border-box",backgroundImage:e.checked?"radial-gradient(#0B1215,#0B1215),radial-gradient(122.5% 122.5% at 52.9% 16.25%, #15D264 0%, #2CBD35 36.26%, #DCF45D 92.54%)":"radial-gradient(#0A1114,#0A1114),radial-gradient(#4A5546,#4A5546)"},className:(0,o.cn)("relative h-[1em] w-[2.5em] cursor-pointer rounded-[0.4em] text-xl"),onClick:()=>{var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e,!e.checked)},children:(0,a.jsx)("div",{className:(0,o.cn)("transition-all h-full w-[1.5em] absolute top-0 rounded-[0.4em]",e.checked?"-left-[1px]":"left-[1em]"),style:{background:e.checked?"radial-gradient(76.25% 76.25% at 50.3% 23.75%, #1BCD59 0%, #B3E854 100%)":"#3B4144"}})})}var V=s(6371),P=s(718),E=s(12485),R=s(78321);function TupleTxt(e){return(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)("div",{className:"text-xs dark:text-white/60 font-medium",children:e.tit}),(0,a.jsx)("div",{className:(0,o.cn)("text-lg  font-medium flex items-center",e.subClassname),children:e.sub})]})}let A="max-w-4xl mx-auto w-full";function BVaultP(e){let{bvc:t}=e,{address:s}=(0,w.m)(),[l,r]=(0,v.useState)(""),d=(0,o.su)(l),p=t.assetSymbol.includes("-"),b=p?"PT":t.pTokenSymbol,f=p?"LP":t.assetSymbol,[j,g]=(0,v.useState)(""),k=(0,o.su)(j),B=(0,x.nr)(t.vault),P=(0,x.Vw)(t.vault)[0],{ids:E,claimable:R}=(0,x.gz)(t.vault),Y=(0,m.R)(e=>e.sliceTokenStore.balances[t.asset]||0n),M=(0,m.R)(e=>e.sliceTokenStore.balances[t.pToken]||0n),F=(null==P?void 0:P.redeemingBalance)||0n,q="Your ".concat(b," can be claimed 1:1 for ").concat(f," at the end of this Epoch"),[D]=(0,x.oU)(t.vault),{data:I}=(0,y.p)(),_=(0,x.R3)(t),renderClaimable=()=>(0,a.jsxs)("div",{className:"flex text-xs items-center gap-5",children:["Claimable: ".concat((0,u.d)(R)),(0,a.jsx)(T.v,{className:"",busyShowTxet:!1,txType:"btn-link",tx:"Claim",disabled:R<=0n,config:{abi:c.j5,address:t.vault,functionName:"batchClaimRedeemAssets",args:[E.length>40?E.slice(E.length-40):E]},onTxSuccess:()=>{_()}})]});return(0,a.jsxs)("div",{className:(0,o.cn)("grid grid-cols-1 md:grid-cols-3 gap-5",A),children:[(0,a.jsxs)("div",{className:"card !p-0 overflow-hidden min-h-[16.875rem]",children:[(0,a.jsxs)("div",{className:"flex p-5 bg-[#A3D395] gap-5",children:[(0,a.jsx)(n.Z,{className:"text-[3.375rem]",showBg:!0}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-xl text-black font-semibold",children:t.pTokenSymbol}),(0,a.jsx)("div",{className:"text-xs text-black/60 font-medium",children:"Interest bearing rebase principal token"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col p-5 gap-5",children:[(0,a.jsx)(TupleTxt,{tit:"APY Est.",sub:D}),(0,a.jsx)(TupleTxt,{tit:"Total Minted",sub:(0,a.jsxs)(a.Fragment,{children:[(0,u.d)(B.pTokenTotal),(0,a.jsx)("button",{className:"btn-link ml-auto text-black/60 dark:text-white/60 text-xs",onClick:()=>{null==I||I.watchAsset({type:"ERC20",options:{address:t.pToken,symbol:t.pTokenSymbol,decimals:18}}).catch(o.S3)},children:"Add to wallet"})]})})]})]}),(0,a.jsx)("div",{className:"md:col-span-2 card !p-4",children:(0,a.jsx)(C.x,{data:[{tab:"Mint",content:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(S.W,{asset:t.assetSymbol,amount:l,balance:Y,setAmount:r}),(0,a.jsxs)("div",{className:"text-xs font-medium flex justify-between items-center",children:[(0,a.jsx)("span",{children:"Receive 1 ".concat(b," for every ").concat(f)}),p&&(0,a.jsx)(h(),{target:"_blank",className:"underline",href:(0,i.FN)(t.asset),children:"Get LP on BEX"})]}),(0,a.jsx)(T.v,{className:"mx-auto mt-6",tx:"Mint",disabled:d<=0n||d>Y,spender:t.vault,approves:{[t.asset]:d},config:{abi:c.j5,address:t.vault,functionName:"deposit",args:[d]},onTxSuccess:()=>{r(""),_()}})]})},{tab:"Redeem",content:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(S.W,{asset:t.pTokenSymbol,assetIcon:"Panda",amount:j,balance:M,setAmount:g}),P&&P.settled&&(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center h-5",children:[(0,a.jsx)("div",{className:"text-xs font-medium",children:q}),renderClaimable()]}),(0,a.jsx)(T.v,{className:"mx-auto mt-6",tx:"Redeem",spender:null==P?void 0:P.redeemPool,approves:{[t.pToken]:k},disabled:P&&k<=0n||k>M,config:{abi:c.gg,address:(null==P?void 0:P.redeemPool)||N.DR,functionName:"redeem",args:[k]},onTxSuccess:()=>{g(""),_()}}),(!P||!P.settled)&&(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center h-5 mt-5",children:[(0,a.jsxs)("div",{className:"text-xs font-medium",children:["Redemption in transit: ".concat((0,u.d)(F))," ",(0,a.jsx)(V.C,{children:"Redemption will be completed at the end of an Epoch."})]}),renderClaimable()]})]})}]})})]})}function BVaultY(e){let{bvc:t}=e,s=t.assetSymbol.includes("-");s||t.pTokenSymbol;let n=s?"YT":t.yTokenSymbol,i=s?"LP token":t.assetSymbol,[p,h]=(0,v.useState)(""),b=(0,o.su)(p),{address:j}=(0,w.m)(),g=(0,x.nr)(t.vault),N=(0,x.qM)(t.vault),y=(0,x.Vw)(t.vault)[0],B=(0,m.R)(e=>e.sliceTokenStore.balances[t.asset]||0n),{data:C,refetch:V}=(0,k.u)({abi:c.j5,address:t.vault,functionName:"calcSwap",args:[b],query:{retry:!0}}),P=(0,d.hp)();(0,v.useEffect)(()=>{V()},[P.time]);let[Y,M]=(0,f.Z)(!1),F=(null==y?void 0:y.vaultYTokenBalance)||0n,q=(0,o.ok)(C,"1"),D=F>0n?N.Y*r.Pq/F:0n,I=D>0n?r.Pq*r.Pq/D:0n,_=Y?"1 ".concat(i,"=").concat((0,u.d)(I)," ").concat(n):"1 ".concat(n,"=").concat((0,u.d)(D)," ").concat(i),U=F>q?(N.Y+b)*r.Pq/(F-q):0n,H=(0,o.Kl)(q),L=U>D&&D>0n?(U-D)*BigInt(1e10)/D:0n,O=N.yTokenAmountForSwapYT>0n?g.lockedAssetTotal*r.Pq/N.yTokenAmountForSwapYT:0n,[W]=(0,x.v7)(t.vault),G=(0,x.R3)(t);return(0,a.jsxs)("div",{className:(0,o.cn)("grid grid-cols-1 md:grid-cols-3 gap-5 mt-5",A),children:[(0,a.jsxs)("div",{className:"card !p-0 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex p-5 bg-[#F0D187] gap-5",children:[(0,a.jsx)(l.Z,{className:"text-[3.375rem]",showBg:!0}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-xl text-black font-semibold",children:t.yTokenSymbol}),(0,a.jsx)("div",{className:"text-xs text-black/60 font-medium",children:"Yield token"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col p-5 gap-5",children:[(0,a.jsxs)("div",{className:"text-base font-semibold flex gap-5 items-end",children:[(0,a.jsxs)("span",{className:"text-4xl font-medium",children:[W,"x"]}),"Yield Boosted"]}),(0,a.jsx)(TupleTxt,{tit:"Total Minted",sub:(0,a.jsxs)(a.Fragment,{children:[(0,u.d)(N.yTokenAmountForSwapYT),(0,a.jsxs)("span",{className:"text-xs ml-auto",children:["1",n," = Yield of ",(0,a.jsx)("br",{}),(0,u.d)(O,2)," ",i]})]})}),y&&(0,a.jsxs)("div",{className:"dark:text-white/60 text-xs whitespace-nowrap gap-1 flex w-full flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:"Epoch ".concat(y.epochId.toString())}),(0,a.jsxs)("span",{className:"scale-90",children:["~",(0,o.Y)((y.startTime+y.duration)*1000n-BigInt(new Date().getTime()))," remaining"]})]}),(0,a.jsx)(R.Z,{value:(e=>{let t=BigInt(Math.floor(new Date().getTime()/1e3));if(t<e.startTime)return 0;if(t-y.startTime>=y.duration)return 100;let s=(t-y.startTime)*100n/e.duration;return parseInt(s.toString())})(y),className:"mt-2 rounded-full overflow-hidden"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"scale-90",children:(0,o.d3)(1000n*y.startTime,"all")}),(0,a.jsx)("span",{className:"scale-90",children:(0,o.d3)((y.startTime+y.duration)*1000n,"all")})]})]})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 card !p-4 flex flex-col gap-1",children:[(0,a.jsx)(S.W,{asset:t.assetSymbol,amount:p,balance:B,setAmount:h}),(0,a.jsx)("div",{className:"text-base font-bold my-2",children:"Receive"}),(0,a.jsx)(S.W,{asset:t.yTokenSymbol,assetIcon:"Venom",readonly:!0,disable:!0,amount:H}),(0,a.jsxs)("div",{className:"text-xs font-medium  flex justify-between select-none",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E.k$E,{className:"text-sm text-primary cursor-pointer inline-block",onClick:()=>M()}),(0,a.jsx)("span",{children:"Price: ".concat(_)})]}),(0,a.jsx)("span",{children:"Price Impact: ".concat((0,o.Jh)(L,10,2))})]}),(0,a.jsxs)("div",{className:"text-xs font-medium text-black/80 dark:text-white/80",children:["1\xa0",n," represents the yield ",(0,a.jsx)("span",{className:"font-extrabold text-base",children:"at least"})," 1 ",i,"\xa0until the end of Epoch."]}),(0,a.jsx)(T.v,{className:"mx-auto mt-6",tx:"Buy",disabled:b<=0n||b>B,config:{abi:c.j5,address:t.vault,functionName:"swap",args:[b]},approves:{[t.asset]:b},spender:t.vault,onTxSuccess:()=>{h(""),G()}})]})]})}function BribeTit(e){return(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,a.jsx)(B.c,{symbol:"GreenDot",size:14}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.name})]})}function BVaultPools(e){let{bvc:t}=e,{address:s}=(0,w.m)(),[n,l]=(0,v.useState)(!1),i=(0,x.Vw)(t.vault),d=(0,v.useMemo)(()=>n?i.filter(e=>e.bribes.reduce((e,t)=>e+t.bribeAmount,0n)>0n):i,[i,n]),[m,p]=(0,j.Z)(),h="text-black/60 dark:text-white/60 text-sm",[b,f]=(0,v.useState)(d[0]);(0,v.useEffect)(()=>{f(d[0])},[d]);let N=(null==b?void 0:b.userBalanceYToken)||0n,onRowClick=e=>{f(d[e])},y=(null==b?void 0:b.bribes)||[],k=(0,v.useMemo)(()=>{let e=y.find(e=>e.bribeAmount>0n);return e?(0,o.Jh)(e.bribeAmount*r.Pq/e.totalRewards,18):(0,o.Jh)(0n,0n)},[y]),S=(0,x.R3)(t);return(0,a.jsxs)("div",{className:(0,o.cn)("grid grid-cols-1 md:grid-cols-3 gap-5 mt-5",A),children:[(0,a.jsxs)("div",{ref:m,children:[(0,a.jsxs)("div",{className:"flex items-center gap-8 text-xl font-semibold mb-6",children:[(0,a.jsx)("span",{children:"My Pool Only"}),(0,a.jsx)(Switch,{checked:n,onChange:l})]}),(0,a.jsx)(g.aV,{className:d.length>6?"pr-5":"",width:p.width,height:p.height-52,rowHeight:e=>{let{index:t}=e;return t<d.length-1?76:56},overscanRowCount:6,rowCount:d.length,rowRenderer:function(e){let{key:t,style:s,index:n}=e,l=d[n],c="".concat((0,o.d3)(1000n*l.startTime,"date"),"-").concat((0,o.d3)((l.startTime+l.duration)*1000n,"date"));return(0,a.jsx)("div",{style:s,className:"cursor-pointer",onClick:()=>onRowClick(n),children:(0,a.jsxs)("div",{className:(0,o.cn)("flex h-[56px] card !rounded-lg !p-5 justify-between items-center font-semibold",n<d.length-1?"mb-[20px]":""),children:[(0,a.jsxs)("div",{className:"text-base",children:["Epoch ",d[n].epochId.toString()]}),(0,a.jsx)("div",{className:"text-xs dark:text-white/60",children:c})]})},t)}})]}),(0,a.jsxs)("div",{className:"md:col-span-2 card !p-4 flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-6 items-end font-semibold",children:[(0,a.jsx)("span",{className:"text-xl ",children:"Accumulated Rewards"}),(0,a.jsxs)("span",{className:"text-xs dark:text-white/60",children:["Epoch ",((null==b?void 0:b.epochId)||1n).toString()]})]}),(0,a.jsx)("div",{className:"flex-1 mt-3 rounded-lg border border-solid border-border p-4",children:(0,a.jsx)(simple_table,{headerClassName:"text-center text-black/60 dark:text-white/60 border-b-0",rowClassName:"text-center",header:["","","Total","Mine",""],span:{1:2,2:1,3:1},data:y.map(e=>["",(0,a.jsx)(BribeTit,{name:e.bribeSymbol},"1"),(0,u.d)(e.totalRewards),(0,u.d)(e.bribeAmount),""])})}),(0,a.jsxs)("div",{className:"rounded-lg border border-solid border-border px-4 py-2 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"font-semibold text-xs",children:[(0,a.jsxs)("div",{children:["My yToken: ",(0,a.jsx)("span",{className:(0,o.cn)(h),children:(0,u.d)(N)})]}),(0,a.jsxs)("div",{children:["Time Weighted Points: ",(0,a.jsx)("span",{className:(0,o.cn)(h),children:(0,u.d)(null==b?void 0:b.userBalanceYTokenSyntyetic)})]})]}),(0,a.jsxs)("div",{children:["My Share: ",(0,a.jsx)("span",{className:(0,o.cn)(h,"text-2xl"),children:k})]})]}),(0,a.jsx)("span",{className:"text-xs mx-auto",children:"You can harvest at the end of Epoch"}),(0,a.jsx)(T.v,{className:"mx-auto mt-4",tx:"Harvest",disabled:!b||!(null==b?void 0:b.settled),config:{abi:c.j5,address:t.vault,functionName:"claimBribes",args:[null==b?void 0:b.epochId]},onTxSuccess:()=>{S()}})]})]})}function BVaultMint(e){let{bvc:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(BVaultP,{bvc:t}),(0,a.jsx)(BVaultY,{bvc:t})]})}function BVaultHarvest(e){let{bvc:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(BVaultPools,{bvc:t})})}function BVaultCard(e){let{vc:t}=e,s=(0,b.useRouter)(),[n,l]=t.assetSymbol.split("-"),c=(0,x.nr)(t.vault),[i]=(0,x.v7)(t.vault),[r]=(0,x.oU)(t.vault),d="Epoch ".concat(((null==c?void 0:c.epochCount)||0n).toString());return(0,a.jsxs)("div",{className:(0,o.cn)("card cursor-pointer !p-0 grid grid-cols-2 overflow-hidden",{}),onClick:()=>s.push("/b-vaults?vault=".concat(t.vault)),children:[(0,a.jsxs)("div",{className:(0,o.cn)(P.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center"),children:[(0,a.jsx)(B.c,{symbol:t.assetSymbol,size:44}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:t.assetSymbol}),(0,a.jsx)("div",{className:" text-sm font-medium",children:t.assetSymbol.includes("-")?"LP Token":""})]}),(0,a.jsxs)("div",{className:"ml-auto",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:(0,u.d)(null==c?void 0:c.lockedAssetTotal)})]})]}),(0,P.BW)(n,0n,0n),(0,P.BW)(l,0n,0n,!0),(0,P.yP)("Status","status",d),(0,P.yP)("Reward","iBGT","iBGT",!0),(0,P.Sn)("Panda","Principal Panda",r,"Venom","Boost Venom","".concat(i,"x"))]})}function BVaultCardComming(e){let{symbol:t}=e;return(0,a.jsxs)("div",{className:(0,o.cn)("card cursor-pointer !p-0 grid grid-cols-2 overflow-hidden h-[367px]",{}),children:[(0,a.jsxs)("div",{className:(0,o.cn)(P.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center h-20"),children:[(0,a.jsx)(B.c,{symbol:t,size:44}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:t}),(0,a.jsx)("div",{className:" text-sm font-medium",children:t.includes("-")?"LP Token":""})]}),(0,a.jsxs)("div",{className:"ml-auto",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,a.jsx)("div",{className:"text-sm font-medium",children:"$-"})]})]}),(0,a.jsx)("div",{className:(0,o.cn)(P.bG,"col-span-2"),children:(0,a.jsx)("div",{className:"text-xs font-semibold leading-[12px] whitespace-nowrap",children:"New Vault Comming Soon..."})})]})}var Y=s(6868),M=s(44939),F=s(87031),q=s(59175),D=s(64370),I=s(62600);let _=["mint","harvest"];function BVaultPage(e){let{bvc:t}=e,{address:s}=(0,w.m)(),n=(0,x.nr)(t.vault);(0,D.a)({queryKey:["UpdateVaultDetails",t,n],queryFn:async()=>{if(0n==n.epochCount)return!1;let e=m.w.getState().sliceBVaultsStore;return await e.updateEpoches(t),await e.updateEpochesRedeemPool(t),!0}});let l=(0,x.Vw)(t.vault);return(0,D.a)({queryKey:["UpdateUserData",t,l,s],queryFn:async()=>0!=l.length&&!!s&&(console.info("epochesOld:",l),await m.w.getState().sliceUserBVaults.updateEpoches(t,s,l),!0)}),(0,a.jsx)(C.x,{listClassName:"flex-wrap p-0 mb-5 md:gap-14",triggerClassName:'text-lg sm:text-xl md:text-2xl py-0 data-[state="active"]:border-b border-b-black dark:border-b-white leading-[0.8] rounded-none whitespace-nowrap',contentClassName:"gap-5",data:[{tab:"Mint",content:(0,a.jsx)(BVaultMint,{bvc:t})},{tab:"Harvest",content:(0,a.jsx)(BVaultHarvest,{bvc:t})}]})}function Vaults(){let e=(0,q.p)(),t=(0,v.useMemo)(()=>F.Fw[e].filter(e=>e.onEnv&&e.onEnv.includes(r.Vi)),[e,r.Vi]),s=(0,b.useSearchParams)(),n=s.get("vault"),l=s.get("tab");_.includes(l);let c=t.find(e=>e.vault==n);(0,D.a)({queryKey:[t],queryFn:async()=>{let e=m.w.getState().sliceBVaultsStore;return await e.updateBvaults(t),await e.updateBvaultsCurrentEpoch(),!0}});let{address:i}=(0,w.m)(),d=(0,v.useMemo)(()=>t.map(e=>[e.asset,e.pToken]).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]),[t]);return(0,D.a)({queryKey:["UpdateBvautlsTokens",d],queryFn:async()=>(await m.w.getState().sliceTokenStore.updateTokenTotalSupply(d),await m.w.getState().sliceTokenStore.updateTokenPrices(d),!0),throwOnError:(e,t)=>(console.error(e),!1)}),(0,D.a)({queryKey:["UpdateUserBvautlsTokens",d,i],queryFn:async()=>!!i&&(await m.w.getState().sliceTokenStore.updateTokensBalance(d,i),!0)}),(0,a.jsx)(M.E,{children:(0,a.jsx)("div",{className:"w-full max-w-[1160px] px-4 mx-auto md:pb-8",children:c?(0,a.jsx)(BVaultPage,{bvc:c}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"page-title",children:"B-Vaults"}),(0,a.jsx)(Y.K,{data:"A pendle-like product with more innovation."}),(0,a.jsxs)(I.r,{numItems:1,numItemsMd:2,numItemsLg:3,className:"gap-5 mt-4",children:[t.map((e,t)=>(0,a.jsx)(BVaultCard,{vc:e},"group_vault_item_".concat(t))),0==t.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(BVaultCardComming,{symbol:"HONEY-USDC"}),(0,a.jsx)(BVaultCardComming,{symbol:"HONEY-WBTC"}),(0,a.jsx)(BVaultCardComming,{symbol:"HONEY-WETH"})]})]})]})})})}}},function(e){e.O(0,[4881,7495,7622,5294,3113,4105,3339,1228,5484,7348,4300,5545,4908,2487,579,1879,8358,2877,5808,7093,604,1744],function(){return e(e.s=92537)}),_N_E=e.O()}]);