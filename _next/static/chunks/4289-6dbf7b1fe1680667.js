"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4289],{99548:function(e,t,n){n.d(t,{v:function(){return ApproveAndTx}});var a=n(31113),r=n(19757),c=n(26361),o=n(78403),i=n(64103),s=n(47259),l=n(58714),u=n(96670),d=n(4408);let p={},useApproves=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:a,chainId:f}=(0,u.m)(),{data:m}=(0,d.p)(),[b,h]=(0,i.useState)(!1),v=(0,i.useMemo)(()=>Object.keys(e).filter(e=>e!==r.K8),[e]),[g,x]=(0,i.useState)(t&&p[t]||{}),updateAllownce=(e,n)=>{t&&(p[t]={...p[t]||{},[e]:n},x(t=>({...t,[e]:n})))};(0,i.useEffect)(()=>{a&&t&&f&&v.forEach(e=>{(0,o.B)().readContract({abi:l.Wo,address:e,functionName:"allowance",args:[a,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[v,f,a]);let[y,w]=(0,i.useState)(!1),k=(0,i.useMemo)(()=>v.filter(t=>(0,c.ok)(e,t)>0n&&(0,c.ok)(e,t)>(0,c.ok)(g,t)),[e,v,g]),approve=async()=>{if(0!=k.length&&t)try{w(!0),h(!1);for(let a=0;a<k.length;a++){let r=k[a],c=!1===n?e[r]:n,i=await (null==m?void 0:m.writeContract({abi:l.Wo,address:r,functionName:"approve",args:[t,c]}));i&&await (0,o.B)().waitForTransactionReceipt({hash:i}),updateAllownce(r,c)}s.A.success("Approve success"),w(!1),h(!0)}catch(e){s.A.error((0,c.az)(e)),w(!1),h(!1)}};return{approve,loading:y,shouldApprove:k.length>0,isSuccess:b}};var f=n(78354),m=n(88501),b=n(60689);function ApproveAndTx(e){let{className:t,tx:n,busyShowTxet:r=!0,approves:c,spender:o,requestAmount:s,config:l,toast:u=!0,skipSimulate:d=!1,disabled:p,onTxSuccess:h,onApproveSuccess:v}=e,{write:g,isDisabled:x,isLoading:y}=(0,f.R)(l,{onSuccess:()=>h&&h(),autoToast:u,skipSimulate:d}),w=p||x||y||!1===l.enabled,{approve:k,shouldApprove:A,loading:j,isSuccess:C}=useApproves(c||{},o,s),N=(0,i.useRef)();return(N.current=v,(0,i.useEffect)(()=>{N.current&&C&&N.current()},[C]),A)?(0,a.jsx)(b.k,{className:(0,m.m)("flex items-center justify-center gap-4",t),onClick:k,busy:j,disabled:p||!k||j,children:"Approve"}):(0,a.jsx)(b.k,{className:(0,m.m)("flex items-center justify-center gap-4",t),onClick:()=>g(),busy:y,busyShowContent:r,disabled:w,children:n})}},88702:function(e,t,n){n.d(t,{Ak:function(){return Expandable},At:function(){return d},UT:function(){return GeneralAction},pk:function(){return p}});var a=n(31113),r=n(62531),c=n(99548),o=n(26361),i=n(64103),s=n(83960),l=n(23125),u=n(58409);let d={menu:()=>(0,o.cn)("bg-white dark:bg-black dark:border"),option:e=>(0,o.cn)({"!bg-primary/50":e.isFocused,"!bg-primary":e.isSelected}),control:()=>"bg-white dark:bg-black !min-h-[58px] !border-primary/70 !shadow-none",singleValue:()=>"dark:text-white"},p="bg-white dark:bg-transparent border-primary/70 w-full h-14 text-right pr-4 font-bold text-sm border focus:border-2  rounded-md outline-none ",defConvertArg=(e,t,n)=>n.type.startsWith("uint")?BigInt(e):"bytes32"==n.type?(0,r.$G)(e,{size:32}):"bool"==n.type?"true"==e:e,convertArgs=(e,t,n)=>e.map((e,a)=>{let r=t[a];return n?n(e,a,r):defConvertArg(e,a,r)});function Expandable(e){let{children:t,tit:n,disable:r}=e,[c,o]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"flex flex-col w-full bg-white dark:bg-transparent rounded-lg overflow-hidden border border-solid border-primary/40",children:[(0,a.jsxs)("div",{className:"px-5 py-2 min-h-[58px] flex justify-between items-center text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-base",children:n}),r?t:(0,a.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-primary flex items-center text-xs text-primary cursor-pointer ",onClick:()=>o(!c),children:[(0,a.jsx)("span",{className:"mr-[5px]",children:c?"Close":"Expand"}),c?(0,a.jsx)(s.iRh,{}):(0,a.jsx)(s.tv1,{})]})]}),(0,a.jsx)(l.Collapse,{isOpened:c,theme:{content:"bg-gray-200 dark:bg-transparent p-4 flex flex-col gap-2"},children:t})]})}function GeneralAction(e){var t,n;let{abi:r,address:s,functionName:l,tit:d,infos:f,convertArg:m,txProps:b,onArgs:h}=e,v=r.find(e=>"function"==e.type&&e.name==l),[{args:g},x]=(0,u.Z)({args:Array((null==v?void 0:null===(t=v.inputs)||void 0===t?void 0:t.length)||0).fill("")});if((0,i.useEffect)(()=>{h&&h(g)},[g]),!v)return;let y=!v.inputs||0==v.inputs.length;return(0,a.jsxs)(Expandable,{tit:d||l,disable:y,children:[null===(n=v.inputs)||void 0===n?void 0:n.map((e,t)=>(0,a.jsx)("input",{type:"text",placeholder:e.name,value:g[t],onChange:e=>x({args:g.map((n,a)=>t==a?e.target.value:n)}),className:(0,o.cn)(p)},"input_".concat(t))),f,(0,a.jsx)(c.v,{...b||{},tx:"Write",config:{abi:r,address:s,functionName:l,...g.length?{args:convertArgs(g,v.inputs,m)}:{}},className:(0,o.cn)("!mt-0 flex items-center justify-center gap-4",y?"max-w-[100px]":"w-full")})]})}},44939:function(e,t,n){n.d(t,{E:function(){return PageWrap}});var a=n(31113);n(64103);var r=n(26361),c=n(69708),o=n(12045);function PageWrap(e){let{children:t,className:n}=e,i=(0,o.l)(e=>e.theme),s=(0,c.usePathname)();return(0,a.jsx)("div",{className:(0,r.cn)("min-h-[calc(100vh+1px)] h-auto pt-[90px] pb-6",n),style:{backgroundSize:"contain",background:"light"==i?"#eeeeee":"/"==s?"url(bg_home.svg) center bottom no-repeat,linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)":"linear-gradient(105.67deg, #02050E 14.41%, #1D2F23 98.84%)"},children:t})}},36762:function(e,t,n){n.d(t,{$:function(){return Spinner}});var a=n(31113),r=n(26361);let Spinner=e=>{let{className:t}=e;return(0,a.jsxs)("svg",{fill:"none",className:(0,r.cn)("animate-spin h-5 w-5 2-ml-1 2mr-3",t),viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},60689:function(e,t,n){n.d(t,{k:function(){return BBtn}});var a=n(31113),r=n(26361),c=n(83978),o=n.n(c),i=n(64103),s=n(36762);function BBtn(e){let{borderWidth:t=1,children:n,busy:c,busyShowContent:l=!0,className:u,hiddenBorder:d,...p}=e,f=(0,i.useRef)(null),[m,b]=(0,i.useState)("0_0"),h="unset",v="unset";if(f.current&&!d){let e=f.current,n=e.clientWidth,a=e.clientHeight,r=parseInt(getComputedStyle(e).borderRadius.replace("px","")),c="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(r," ").concat(t,"L").concat(n-r," ").concat(t),i="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(n-t," ").concat(r,"L").concat(n-t," ").concat(a-r),s="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(n-r," ").concat(a-t,"L").concat(r," ").concat(a-t," "),l="A".concat(r-t," ").concat(r-t," 0, 0, 1, ").concat(t," ").concat(a-r,"L").concat(t," ").concat(r),u="M ".concat(t," ").concat(r," ").concat(c," ").concat(i," ").concat(s," ").concat(l),d="M 0 0 L 0 ".concat(a," L ").concat(n," ").concat(a," L ").concat(n," 0 L 0 0 ").concat(u," Z");h="path('".concat(d,"')");let p=2*n,tranP=e=>o().round(e/2,2);v="radial-gradient(122.5% ".concat(o().round(122.5/(n/a),2),"% at ").concat(o().round((52.9*n+50*p-50*n)/p,2),"% ").concat(o().round((16.25*a+50*p-50*a)/p,2),"%, #15d264 0%, #2cbd35 ").concat(tranP(36.26),"%, #dcf45d ").concat(tranP(92.54),"%)")}return(0,i.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t;b("".concat((null===(e=f.current)||void 0===e?void 0:e.clientWidth)||0,"_").concat((null===(t=f.current)||void 0===t?void 0:t.clientWidth)||0))});return f.current&&e.observe(f.current),()=>{f.current&&e.unobserve(f.current)}},[f.current]),(0,a.jsxs)("button",{...p,ref:f,style:{background:"radial-gradient(76.25% 76.25% at 50.3% 23.75%,rgba(27, 205, 89, 0.2) 0%,rgba(179, 232, 84, 0.2) 100%)"},className:(0,r.cn)("group/bbtn relative px-3 cursor-pointer w-full transition-all leading-[2.375] ring-0 text-base text-black dark:text-white font-medium h-10 rounded-lg disabled:opacity-60 disabled:cursor-not-allowed",u),children:[!d&&(0,a.jsx)("div",{className:"absolute w-full h-full left-0 top-0 flex justify-center items-center rounded-lg overflow-hidden",style:{visibility:f.current?"visible":"hidden",clipPath:h},children:(0,a.jsx)("div",{className:(0,r.cn)("w-[200%] aspect-square shrink-0",{"group-hover/bbtn:animate-spin-slow":!e.disabled}),style:{background:v}})}),c&&(0,a.jsx)(s.$,{}),(l||!c)&&n]})}},48405:function(e,t,n){n.d(t,{G:function(){return useVaultsConfigs}});var a=n(87031),r=n(19757),c=n(22139),o=n(64103),i=n(58409),s=n(59175);function useVaultsConfigs(){let e=(0,s.p)(),t=r.iK[e]||[],n=r.VQ[e]||[],l=(0,o.useMemo)(()=>(a.Fw[e]||[]).filter(e=>e.onEnv&&e.onEnv.includes(c.Vi)),[e]),u=(0,o.useMemo)(()=>{let e=t.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"L-Vault"})),a=n.map(e=>({label:e.assetTokenSymbol,value:e.vault,data:e,type:"P-Vault"})),r=l.map(e=>({label:e.assetSymbol,value:e.vault,data:e,type:"B-Vault"}));return[...e,...a,...r].map(e=>({...e,label:"".concat(e.label,"(").concat(e.type,")")}))},[t,n,l]),[{current:d},p]=(0,i.Z)({current:u[0]});return{current:d,setState:p,options:u}}},15506:function(e,t,n){n.d(t,{D2:function(){return useWandContractRead},uX:function(){return useWandContractReads}}),n(78403);var a=n(83978),r=n.n(a);n(64103);var c=n(30308),o=n(59307),i=n(93108);let s=(0,i.Ue)(e=>({time:r().now(),update:()=>{e({time:r().now()})}}));function useWandContractRead(e){let{time:t}=s();return(0,c.u)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}function useWandContractReads(e){let{time:t}=s();return(0,o.N)({...e,query:{placeholderData:e=>e,refetchOnMount:!1,refetchOnWindowFocus:!1,...e.query||{}},wandtime:t})}},78354:function(e,t,n){n.d(t,{R:function(){return useWrapContractWrite}});var a=n(26361),r=n(78403),c=n(64103),o=n(47259),i=n(4408);function useWrapContractWrite(e,t){let{autoToast:n=!0,onSuccess:s}=t||{},[l,u]=(0,c.useState)(!1),[d,p]=(0,c.useState)(!1),{data:f}=(0,i.p)(),m=!f||!f.account||l||!e,write=async()=>{if(!m){u(!0),p(!1);try{let a="function"==typeof e?await e():e,c=(0,r.B)(),i={account:f.account,...a};if(!(null==t?void 0:t.skipSimulate)){let e=await c.simulateContract(i);i=e.request}let l=await f.writeContract(i),u=await c.waitForTransactionReceipt({hash:l});if("success"!==u.status)throw"Transaction reverted";p(!0),s&&s(),n&&o.A.success("Transaction success")}catch(e){n&&o.A.error((0,a.az)(e))}u(!1)}};return{write,isDisabled:m,isLoading:l,isSuccess:d}}}}]);