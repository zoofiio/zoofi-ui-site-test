"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3695],{62600:function(e,t,a){a.d(t,{r:function(){return n.Z}});var n=a(62653)},99548:function(e,t,a){a.d(t,{v:function(){return ApproveAndTx}});var n=a(31113),s=a(19757),r=a(26361),l=a(78403),c=a(64103),o=a(47259),i=a(58714),u=a(96670),d=a(4408);let x={},useApproves=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:n,chainId:p}=(0,u.m)(),{data:f}=(0,d.p)(),[m,h]=(0,c.useState)(!1),v=(0,c.useMemo)(()=>Object.keys(e).filter(e=>e!==s.K8),[e]),[b,g]=(0,c.useState)(t&&x[t]||{}),updateAllownce=(e,a)=>{t&&(x[t]={...x[t]||{},[e]:a},g(t=>({...t,[e]:a})))};(0,c.useEffect)(()=>{n&&t&&p&&v.forEach(e=>{(0,l.B)().readContract({abi:i.Wo,address:e,functionName:"allowance",args:[n,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[v,p,n]);let[w,k]=(0,c.useState)(!1),j=(0,c.useMemo)(()=>v.filter(t=>(0,r.ok)(e,t)>0n&&(0,r.ok)(e,t)>(0,r.ok)(b,t)),[e,v,b]),approve=async()=>{if(0!=j.length&&t)try{k(!0),h(!1);for(let n=0;n<j.length;n++){let s=j[n],r=!1===a?e[s]:a,c=await (null==f?void 0:f.writeContract({abi:i.Wo,address:s,functionName:"approve",args:[t,r]}));c&&await (0,l.B)().waitForTransactionReceipt({hash:c}),updateAllownce(s,r)}o.A.success("Approve success"),k(!1),h(!0)}catch(e){o.A.error((0,r.az)(e)),k(!1),h(!1)}};return{approve,loading:w,shouldApprove:j.length>0,isSuccess:m}};var p=a(78354),f=a(88501),m=a(60689);function ApproveAndTx(e){let{className:t,tx:a,busyShowTxet:s=!0,approves:r,spender:l,requestAmount:o,config:i,toast:u=!0,skipSimulate:d=!1,disabled:x,onTxSuccess:h,onApproveSuccess:v}=e,{write:b,isDisabled:g,isLoading:w}=(0,p.R)(i,{onSuccess:()=>h&&h(),autoToast:u,skipSimulate:d}),k=x||g||w||!1===i.enabled,{approve:j,shouldApprove:y,loading:N,isSuccess:S}=useApproves(r||{},l,o),B=(0,c.useRef)();return(B.current=v,(0,c.useEffect)(()=>{B.current&&S&&B.current()},[S]),y)?(0,n.jsx)(m.k,{className:(0,f.m)("flex items-center justify-center gap-4",t),onClick:j,busy:N,disabled:x||!j||N,children:"Approve"}):(0,n.jsx)(m.k,{className:(0,f.m)("flex items-center justify-center gap-4",t),onClick:()=>b(),busy:w,busyShowContent:s,disabled:k,children:a})}},91214:function(e,t,a){a.d(t,{W:function(){return AssetInput}});var n=a(31113),s=a(26361),r=a(84944),l=a(33501),c=a(64103),o=a(45631),i=a(35057),u=a(95702),d=a(12045),x=a(36762);function AssetInput(e){let{asset:t="ETH",assetIcon:a,assetURL:p,checkBalance:f=!0,balance:m,balanceTit:h="Balance",balanceDecimals:v=18,exchange:b,readonly:g,selected:w,onClick:k,amount:j,setAmount:y,price:N,disable:S,hasInput:B=!1,options:C,onChange:T=()=>{},defaultValue:V,balanceClassName:L="",loading:A,disableNegative:E}=e,q=(0,c.useRef)(null),U=f&&void 0!==m&&(0,s.su)("number"==typeof j?j+"":j||"")>("bigint"==typeof m?m:0n),K=(0,d.l)(e=>"dark"==e.theme);return(0,n.jsxs)("div",{className:"relative w-full",onClick:()=>{k&&!S&&k()},children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"absolute flex items-center h-fit gap-2 left-[48px] bottom-1 w-full  max-w-[calc(100%-56px)]",style:{pointerEvents:"none"},children:[N&&(0,n.jsx)("div",{className:"text-neutral-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:N}),b&&(0,n.jsxs)("div",{className:"text-slate-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:["~$",b]})]}),(0,n.jsxs)("div",{className:"absolute flex items-center gap-2 w-fit top-1/2 left-4 -translate-y-1/2",children:[(0,n.jsx)(u.c,{size:24,symbol:a||t,url:p,className:"rounded-full"}),(0,n.jsx)("div",{className:(0,l.Z)("relative",N||b?"-top-[6px]":""),children:B?(0,n.jsx)(o.ZP,{options:C,onChange:T,defaultValue:V,styles:{control:(e,t)=>({...e,border:"0px",outline:"none",boxShadow:"none",borderRadius:"0px",minHeight:"24px",padding:"0px",background:"transparent"}),singleValue:(e,t)=>({...e,color:K?"#fff":"#000"}),valueContainer:(e,t)=>({...e,padding:"0px"}),menu:(e,t)=>({...e,margin:0,background:K?"#444":"#fff"}),option:(e,t)=>({...e,color:K?"#fff":"#000",background:K?"transparent":"#fff"}),menuPortal:(e,t)=>({...e,margin:0})}}):(0,n.jsx)("div",{children:t})})]}),(0,n.jsx)("input",{value:A?"":j,onChange:e=>{if(g)return;let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");y(t)},ref:q,type:"number",disabled:S,className:(0,l.Z)(g?"bg-slate-50 cursor-not-allowed dark:bg-slate-800":"bg-white dark:bg-transparent",{"border-green-700 border-2":w,"border-red-400 !border-2 focus:border-red-400":U,"border-slate-400  focus:border-primary":!U&&!w},"w-full h-14 text-right pr-4 pl-[8rem] font-bold text-2xl border-[#4A5546] border focus:border-2 text-slate-700 rounded-lg outline-none dark:text-slate-50"),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:g}),A&&(0,n.jsx)(x.$,{className:"absolute right-24 top-[1.125rem]"})]}),void 0!=m&&(0,n.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-slate-400 dark:text-slate-50/70 text-sm",children:[(0,n.jsxs)("div",{className:L,children:[(0,n.jsxs)("span",{children:[h,": ",(0,r.d)(m,3,v)]}),(0,n.jsx)("button",{className:"text-primary ml-2",onClick:()=>{let e=(0,i.b)(m,v);y(e),k&&!S&&k()},children:"Max"})]}),(0,n.jsx)("div",{className:"text-sm text-red-400",children:U?"Insufficient account balance":""})]})]})}},53184:function(e,t,a){a.d(t,{K:function(){return c}});var n=a(93680),s=a(26537),r=a(30639),l=a(4283);let c={Bera:n.Z,Bull:s.Z,Panda:r.Z,Venom:l.Z,BeraLine:n.Z,BullLine:s.Z,PandaLine:r.Z,VenomLine:l.Z}},6868:function(e,t,a){a.d(t,{K:function(){return Noti}});var n=a(31113);a(64103);var s=a(63114);function Noti(e){let{data:t}=e;return(0,n.jsxs)("div",{className:"w-full mt-2 mb-3 md:mt-4 md:mb-6 flex text-[24px] md:text-[14px] text-[#64748B] dark:text-slate-50/60 font-medium leading-[24px] md:leading-[14px]",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)(s.pMA,{size:20})}),(0,n.jsx)("div",{className:"text-sm ml-1 ",children:t})]})}},16738:function(e,t,a){a.d(t,{x:function(){return SimpleTabs}});var n=a(31113),s=a(26361),r=a(24626),l=a(64103);function SimpleTabs(e){let{currentTab:t,className:a,listClassName:c,triggerClassName:o,contentClassName:i,hiddenConetent:u=!1,data:d,onTabChange:x}=e,[p,f]=(0,l.useState)(t||d[0].tab);return(0,l.useEffect)(()=>{d.find(e=>e.tab==p)||f(d[0].tab)},[p,d]),(0,n.jsxs)(r.fC,{value:t||p,className:(0,s.cn)("w-full",a),onValueChange:e=>{f(e),null==x||x(e)},children:[(0,n.jsx)(r.aV,{className:(0,s.cn)("p-1 w-fit rounded-md gap-5 flex bg-transparent",c),children:d.map(e=>(0,n.jsx)(r.xz,{className:(0,s.cn)('rounded-[3px] text-sm py-1.5 px-0 text-black/50 font-medium data-[state="active"]:bg-black data-[state="active"]:text-slate-900 !bg-transparent dark:text-white/50 dark:data-[state="active"]:text-white',o),value:e.tab,children:e.tab},e.tab))}),!u&&d.map(e=>(0,n.jsx)(r.VY,{value:e.tab,className:(0,s.cn)("flex flex-col gap-6 outline-none",i),children:e.content},e.tab))]})}},36762:function(e,t,a){a.d(t,{$:function(){return Spinner}});var n=a(31113),s=a(26361);let Spinner=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{fill:"none",className:(0,s.cn)("animate-spin h-5 w-5 2-ml-1 2mr-3",t),viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},60689:function(e,t,a){a.d(t,{k:function(){return BBtn}});var n=a(31113),s=a(26361),r=a(83978),l=a.n(r),c=a(64103),o=a(36762);function BBtn(e){let{borderWidth:t=1,children:a,busy:r,busyShowContent:i=!0,className:u,hiddenBorder:d,...x}=e,p=(0,c.useRef)(null),[f,m]=(0,c.useState)("0_0"),h="unset",v="unset";if(p.current&&!d){let e=p.current,a=e.clientWidth,n=e.clientHeight,s=parseInt(getComputedStyle(e).borderRadius.replace("px","")),r="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(s," ").concat(t,"L").concat(a-s," ").concat(t),c="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(a-t," ").concat(s,"L").concat(a-t," ").concat(n-s),o="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(a-s," ").concat(n-t,"L").concat(s," ").concat(n-t," "),i="A".concat(s-t," ").concat(s-t," 0, 0, 1, ").concat(t," ").concat(n-s,"L").concat(t," ").concat(s),u="M ".concat(t," ").concat(s," ").concat(r," ").concat(c," ").concat(o," ").concat(i),d="M 0 0 L 0 ".concat(n," L ").concat(a," ").concat(n," L ").concat(a," 0 L 0 0 ").concat(u," Z");h="path('".concat(d,"')");let x=2*a,tranP=e=>l().round(e/2,2);v="radial-gradient(122.5% ".concat(l().round(122.5/(a/n),2),"% at ").concat(l().round((52.9*a+50*x-50*a)/x,2),"% ").concat(l().round((16.25*n+50*x-50*n)/x,2),"%, #15d264 0%, #2cbd35 ").concat(tranP(36.26),"%, #dcf45d ").concat(tranP(92.54),"%)")}return(0,c.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t;m("".concat((null===(e=p.current)||void 0===e?void 0:e.clientWidth)||0,"_").concat((null===(t=p.current)||void 0===t?void 0:t.clientWidth)||0))});return p.current&&e.observe(p.current),()=>{p.current&&e.unobserve(p.current)}},[p.current]),(0,n.jsxs)("button",{...x,ref:p,style:{background:"radial-gradient(76.25% 76.25% at 50.3% 23.75%,rgba(27, 205, 89, 0.2) 0%,rgba(179, 232, 84, 0.2) 100%)"},className:(0,s.cn)("group/bbtn relative px-3 cursor-pointer w-full transition-all leading-[2.375] ring-0 text-base text-black dark:text-white font-medium h-10 rounded-lg disabled:opacity-60 disabled:cursor-not-allowed",u),children:[!d&&(0,n.jsx)("div",{className:"absolute w-full h-full left-0 top-0 flex justify-center items-center rounded-lg overflow-hidden",style:{visibility:p.current?"visible":"hidden",clipPath:h},children:(0,n.jsx)("div",{className:(0,s.cn)("w-[200%] aspect-square shrink-0",{"group-hover/bbtn:animate-spin-slow":!e.disabled}),style:{background:v}})}),r&&(0,n.jsx)(o.$,{}),(i||!r)&&a]})}},6371:function(e,t,a){a.d(t,{C:function(){return Tip}});var n=a(31113),s=a(26361),r=a(52653),l=a(55966);function Tip(e){let{children:t,node:a,className:c,inFlex:o}=e,i=document.getElementById("tooltip-root");return t?(0,n.jsx)(r.zt,{children:(0,n.jsxs)(r.fC,{children:[(0,n.jsx)(r.xz,{asChild:!0,onClickCapture:e=>{e.preventDefault(),e.stopPropagation()},children:a?(0,n.jsx)("div",{className:(0,s.cn)("inline-block cursor-default",c),style:{verticalAlign:"text-bottom"},children:a}):(0,n.jsx)("div",{className:(0,s.cn)(o?"flex":"translate-y-[-6%] inline-block"," px-[3px] cursor-default relative",c),children:(0,n.jsx)(l.apP,{className:"inline-block stroke-slate-500"})})}),(0,n.jsx)(r.h_,{container:i,children:(0,n.jsxs)(r.VY,{className:"max-w-xs text-sm text-white bg-slate-900 shadow-lg dark:bg-[#333333] rounded-md p-4",children:[t,(0,n.jsx)(r.Eh,{})]})})]})}):a}},32036:function(e,t,a){a.d(t,{BW:function(){return renderToken},Sn:function(){return renderChoseSide},bG:function(){return i},yP:function(){return renderStat}});var n=a(31113),s=a(26361),r=a(84944),l=a(53184),c=a(95702),o=a(60689);let i="py-5 flex flex-col items-center gap-2 relative dark:border-border border-solid",renderToken=function(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,n.jsx)("div",{className:(0,s.cn)(i,"border-b",{"border-l":l}),children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap flex gap-2 items-center",children:[(0,n.jsx)(c.c,{symbol:e,size:14}),e]}),(0,n.jsxs)("div",{className:"flex mt-2 flex-col gap-1 pl-[1.375rem] text-xs font-medium",children:[(0,n.jsx)("span",{className:"",children:(0,r.d)(t)}),(0,n.jsx)("span",{className:" text-[#64748B] dark:text-slate-50/60",children:"$".concat((0,r.d)(a,2))})]})]})})},renderStat=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,n.jsx)("div",{className:(0,s.cn)(i,"border-b pb-10",{"border-l":r}),children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap text-center",children:e}),(0,n.jsxs)("div",{className:"flex mt-2 items-center gap-2 text-sm font-medium",children:[(0,n.jsx)(c.c,{symbol:t,size:14}),"string"==typeof a?(0,n.jsx)("span",{children:a}):a]})]})})},BtnWrap=e=>{let{children:t,onClick:a,...s}=e;return e.onClick?(0,n.jsx)(o.k,{...s,onClick:a,children:t}):(0,n.jsx)("div",{...s,onClick:a,children:t})},renderChoseSide=(e,t,a,r,c,o,u,d)=>{let x=l.K[e],p=l.K[r];return(0,n.jsxs)("div",{className:(0,s.cn)(i,"col-span-2 gap-4"),children:[(0,n.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Choose your side"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 w-full px-4",children:[(0,n.jsx)(BtnWrap,{className:(0,s.cn)("h-[4.25rem] w-full relative"),onClick:u,children:(0,n.jsxs)("div",{className:"flex gap-2 items-center p-4 w-full h-[4.25rem] absolute left-0 top-0",children:[(0,n.jsx)(x,{className:"text-4xl",showBg:!0}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,n.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:t}),(0,n.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:a})]})]})}),(0,n.jsx)(BtnWrap,{className:(0,s.cn)("h-[4.25rem] w-full relative"),onClick:d,children:(0,n.jsxs)("div",{className:"flex flex-row-reverse gap-2 items-center p-4 w-full h-[4.25rem] absolute left-0 top-0",children:[(0,n.jsx)(p,{className:"text-4xl",showBg:!0}),(0,n.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,n.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:c}),(0,n.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:o})]})]})})]})]})}},31889:function(e,t,a){a.d(t,{Ev:function(){return useLoadBVaults},a1:function(){return useLoadLVaults},g2:function(){return useLoadUserBVaults},z2:function(){return useLoadUserLVaults}});var n=a(87031),s=a(19757),r=a(22139),l=a(3106),c=a(64370),o=a(83978),i=a.n(o),u=a(64103),d=a(96670),x=a(59175);function useLoadLVaults(){let e=(0,x.p)(),t=s.iK[e],{address:a}=(0,d.m)(),n=(0,u.useMemo)(()=>i().chain(s.iK[e]).map(e=>[e.assetTokenAddress,e.xTokenAddress]).flatten().concat([s.O1[e]]).union().value(),[e]);(0,c.a)({queryKey:["UpdateLvautlsTokens",n],queryFn:async()=>(await l.w.getState().sliceTokenStore.updateTokenTotalSupply(n),!0)}),(0,c.a)({queryKey:["UpdateUserLvautlsTokens",n,a],queryFn:async()=>!!a&&(await l.w.getState().sliceTokenStore.updateTokensBalance(n,a),!0)}),(0,c.a)({queryKey:["UpdateLVautls",t],queryFn:async()=>(await l.w.getState().sliceLVaultsStore.updateLVaults(t),!0)})}function useLoadBVaults(){let e=(0,x.p)(),t=(0,u.useMemo)(()=>n.Fw[e].filter(e=>(e.onEnv||[]).includes(r.Vi)),[e,r.Vi]);(0,c.a)({queryKey:[t],queryFn:async()=>(await l.w.getState().sliceBVaultsStore.updateBvaults(t),await l.w.getState().sliceBVaultsStore.updateYTokenSythetic(t),!0)});let{address:a}=(0,d.m)(),s=(0,u.useMemo)(()=>t.map(e=>[e.asset,e.pToken]).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]),[t]);(0,c.a)({queryKey:["UpdateBvautlsTokens",s],queryFn:async()=>(await l.w.getState().sliceTokenStore.updateTokenTotalSupply(s),await l.w.getState().sliceTokenStore.updateTokenPrices(s),!0),throwOnError:(e,t)=>(console.error(e),!1)}),(0,c.a)({queryKey:["UpdateUserBvautlsTokens",s,a],queryFn:async()=>!!a&&(await l.w.getState().sliceTokenStore.updateTokensBalance(s,a),!0)})}function useLoadUserLVaults(){let{address:e}=(0,d.m)(),t=(0,x.p)(),a=s.iK[t];(0,c.a)({queryKey:["UpdateAllUserLVaults",t,e,a],queryFn:async()=>!!e&&(await Promise.all(a.map(t=>l.w.getState().sliceLVaultsStore.updateUserLVault(t,e))),!0)})}function useLoadUserBVaults(){let{address:e}=(0,d.m)(),t=(0,x.p)(),a=(0,u.useMemo)(()=>n.Fw[t].filter(e=>(e.onEnv||[]).includes(r.Vi)),[t,r.Vi]),s=(0,l.o)(e=>i().keys(e.sliceBVaultsStore.bvaults).toString(),["sliceBVaultsStore.bvaults"]);(0,c.a)({queryKey:["UpdateAllUserBvaults",a,t,e,s],queryFn:async()=>{if(!e)return!1;let t=l.w.getState().sliceBVaultsStore.bvaults;for(let e of a)if(!t[e.vault])return!1;await Promise.all(a.map(e=>l.w.getState().sliceBVaultsStore.updateEpoches(e)));let getEpochesParams=e=>{let t=l.w.getState().sliceBVaultsStore.bvaults[e.vault],a=[];for(let n=parseInt(t.epochCount.toString());n>0;n--){let t=l.w.getState().sliceBVaultsStore.epoches["".concat(e.vault,"_").concat(n)];a.push(t)}return a};return await Promise.all(a.map(t=>l.w.getState().sliceUserBVaults.updateEpoches(t,e,getEpochesParams(t)))),!0}})}},78354:function(e,t,a){a.d(t,{R:function(){return useWrapContractWrite}});var n=a(26361),s=a(78403),r=a(64103),l=a(47259),c=a(4408);function useWrapContractWrite(e,t){let{autoToast:a=!0,onSuccess:o}=t||{},[i,u]=(0,r.useState)(!1),[d,x]=(0,r.useState)(!1),{data:p}=(0,c.p)(),f=!p||!p.account||i||!e,write=async()=>{if(!f){u(!0),x(!1);try{let n="function"==typeof e?await e():e,r=(0,s.B)(),c={account:p.account,...n};if(!(null==t?void 0:t.skipSimulate)){let e=await r.simulateContract(c);c=e.request}let i=await p.writeContract(c),u=await r.waitForTransactionReceipt({hash:i});if("success"!==u.status)throw"Transaction reverted";x(!0),o&&o(),a&&l.A.success("Transaction success")}catch(e){a&&l.A.error((0,n.az)(e))}u(!1)}};return{write,isDisabled:f,isLoading:i,isSuccess:d}}},36602:function(e,t,a){a.d(t,{l:function(){return useBalances}});var n=a(26361),s=a(3106);function useBalances(){return(0,s.o)(e=>(0,n.Yb)(e.sliceTokenStore.balances,0n),["sliceTokenStore.balances"])}}}]);